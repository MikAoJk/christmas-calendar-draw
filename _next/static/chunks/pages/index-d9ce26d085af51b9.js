(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4560)}])},4560:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var i=n(5893),a=n(9008),l=n.n(a),r=n(4456),o=n.n(r),s=n(7294);let c=t=>{let e="",n=!1,[a,l]=(0,s.useState)(!1),r=0,o=t.participants.length,c=0,d=0,h=null,m=Math.PI/t.participants.length,p=t.participants.length*t.upDuration,g=t.participants.length*t.downDuration,f=0,x=0;(0,s.useEffect)(()=>{_(),setTimeout(()=>{window.scrollTo(0,1)},0)},[]);let _=()=>{u(),v()},u=()=>{let t=document.getElementById("canvas");console.log(navigator),-1!==navigator.userAgent.indexOf("MSIE")&&((t=document.createElement("canvas")).setAttribute("width",String(1e3)),t.setAttribute("height",String(600)),t.setAttribute("id","canvas"),document.getElementById("wheel").appendChild(t)),t.addEventListener("click",y,!1),h=t.getContext("2d")},y=()=>{n=!0,0===r&&(f=new Date().getTime(),m=Math.PI/t.participants.length,x=0,r=setInterval(j,o))},j=()=>{let n;x++,F();let i=new Date().getTime()-f,a=!1;for(i<p?d=m*Math.sin((n=i/p)*Math.PI/2):(t.winningSegment&&e===t.winningSegment&&x>t.participants.length?(d=m*Math.sin((n=i/p)*Math.PI/2+Math.PI/2),n=1):d=m*Math.sin((n=i/g)*Math.PI/2+Math.PI/2),n>=1&&(a=!0)),c+=d;c>=2*Math.PI;)c-=2*Math.PI;a&&(l(!0),t.onFinished(e),clearInterval(r),r=0,d=0)},v=()=>{E(),C(),P()},F=()=>{E(),C(),P()},w=(e,n,i)=>{let a=h,l=t.participants[e];a.save(),a.beginPath(),a.moveTo(300,300),a.arc(300,300,t.size,n,i,!1),a.lineTo(300,300),a.closePath(),a.fillStyle=t.segColors[e],a.fill(),a.stroke(),a.save(),a.translate(300,300),a.rotate((n+i)/2),a.fillStyle=t.contrastColor,a.font="bold 1em "+t.fontFamily,a.fillText(l.substring(0,21),t.size/2+20,0),a.restore()},C=()=>{let e=h,n=c,i=t.participants.length,a=2*Math.PI;e.lineWidth=1,e.strokeStyle=t.primaryColor,e.textBaseline="middle",e.textAlign="center",e.font="1em "+t.fontFamily;for(let l=1;l<=i;l++){let r=a*(l/i)+c;w(l-1,n,r),n=r}e.beginPath(),e.arc(300,300,50,0,a,!1),e.closePath(),e.fillStyle=t.primaryColor,e.lineWidth=10,e.strokeStyle=t.contrastColor,e.fill(),e.font="bold 1em "+t.fontFamily,e.fillStyle=t.contrastColor,e.textAlign="center",e.fillText("spin",300,303),e.stroke(),e.beginPath(),e.arc(300,300,t.size,0,a,!1),e.closePath(),e.lineWidth=10,e.strokeStyle=t.primaryColor,e.stroke()},P=()=>{let i=h;i.lineWidth=1,i.strokeStyle=t.contrastColor,i.fileStyle=t.contrastColor,i.beginPath(),i.moveTo(320,250),i.lineTo(280,250),i.lineTo(300,230),i.closePath(),i.fill();let a=c+Math.PI/2,l=t.participants.length-Math.floor(a/(2*Math.PI)*t.participants.length)-1;l<0&&(l+=t.participants.length),i.textAlign="center",i.textBaseline="middle",i.fillStyle=t.primaryColor,i.font="bold 1.5em "+t.fontFamily,e=t.participants[l],n&&i.fillText(e,310,300+t.size+50)},E=()=>{h.clearRect(0,0,1e3,800)};return(0,i.jsx)("div",{id:"wheel",children:(0,i.jsx)("canvas",{id:"canvas",width:"1000",height:"800",style:{pointerEvents:a?"none":"auto"}})})},d=()=>(0,i.jsx)("div",{className:o().container,children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Winner"}),(0,i.jsx)("th",{children:"Day"}),(0,i.jsx)("th",{children:"Price"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Unknown"}),(0,i.jsx)("td",{children:"1"}),(0,i.jsx)("td",{children:"User1"})]})})]})}),h=()=>{let[t,e]=(0,s.useState)(""),n=t=>{e(t)};return(0,i.jsxs)("div",{className:o().container,children:[(0,i.jsx)(d,{}),t&&(0,i.jsxs)("h3",{children:["Todays winner is: ",t]}),(0,i.jsx)(c,{contrastColor:"white",downDuration:1e3,fontFamily:"proxima-nova",primaryColor:"black",segColors:["#EE4040","#F0CF50","#815CD1","#3DA5E0","#34A24F","#F9AA1F","#EC3F3F","#FF9000","#F0CF50","#815CD1","#3DA5E0","#34A24F","#F9AA1F","#EC3F3F","#FF9000"],participants:["per","ola","jonny","p\xe5l","alf","viggo","trong","espen","trond","hans","vegard","joakim","andre","\xf8yvind","ronny"],size:290,upDuration:100,winningSegment:1e3,onFinished:n})]})},m=()=>(0,i.jsxs)("div",{className:o().container,children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Christmas calendar draw"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)("main",{className:o().main,children:(0,i.jsx)(h,{})})]});var p=m},4456:function(t){t.exports={container:"Home_container__Ennsq",main:"Home_main__EtNt2",footer:"Home_footer__7dKhS",title:"Home_title__FX7xZ",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",logo:"Home_logo__80mSr"}},9008:function(t,e,n){t.exports=n(3121)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);